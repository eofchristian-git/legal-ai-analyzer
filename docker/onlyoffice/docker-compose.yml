services:
  onlyoffice-documentserver:
    image: onlyoffice/documentserver-ee:7.5.1
    container_name: onlyoffice-documentserver
    ports:
      - "8080:80"
    environment:
      - JWT_ENABLED=true
      - JWT_SECRET=${ONLYOFFICE_JWT_SECRET}
      - JWT_HEADER=Authorization
      - JWT_IN_BODY=true
    volumes:
      - onlyoffice_data:/var/www/onlyoffice/Data
      - onlyoffice_logs:/var/log/onlyoffice
      - onlyoffice_cache:/var/lib/onlyoffice
      # Place your ONLYOFFICE license file at docker/onlyoffice/license.lic
      # and uncomment the line below to activate Developer/Enterprise Edition:
      - ./license.lic:/var/www/onlyoffice/Data/license.lic:ro
    restart: unless-stopped

volumes:
  onlyoffice_data:
  onlyoffice_logs:
  onlyoffice_cache:
